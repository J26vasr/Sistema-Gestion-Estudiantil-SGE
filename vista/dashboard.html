<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link rel="stylesheet" href="../recursos/css/dashboard.css">
  <link rel="stylesheet" href="../recursos/css/menu.css">
</head>

<body>

  <!-- Menú dinámico -->
  <div id="menu"></div>

  <!-- Contenedor de saludo -->
  <div class="container-saludo">
    <p class="texto-saludo-user">
      Bienvenid@ de vuelta <span id="nombreUsuario"></span>
    </p>
    <div class="foto">
      <img src="../recursos/img/perfil.jpg" alt="Foto del usuario">
    </div>
  </div>

  <!-- Contenedor principal -->
  <div class="container">
    <section class="cards">

      
      <div class="card">
        <img src="../recursos/img/control-horario.jpg" alt="Tarjeta 2">
        <div class="card-body">
          <h3>Agenda</h3>
          <a href="../vista/agenda.html" class="btn-view">Ver Más</a>
        </div>
      </div>

      <div class="card">
        <img src="../recursos/img/asistencia.jpg" alt="Tarjeta 3">
        <div class="card-body">
          <h3>Actividades</h3>
          <a href="../vista/vista-actividades.html" class="btn-view">Ver Más</a>
        </div>
      </div>

      <div class="card">
        <img src="../recursos/img/promedios.jpg" alt="Tarjeta 4">
        <div class="card-body">
          <h3>Bloques Horario</h3>
          <a href="../vista/bloques-horarios.html" class="btn-view">Ver Más</a>
        </div>
      </div>

    </section>
  </div>

  <!-- SweetAlert Library -->
  <script src="../controladores/lib/sweetalert.min.js"></script>

  <!-- Activar modo oscuro si está guardado -->
  <script>
    if (localStorage.getItem("darkMode") === "true") {
      document.documentElement.classList.add("dark");
    }
  </script>

  <!-- Cargar el menú dinámico -->
  <script>
    fetch("../vista/menu.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("menu").innerHTML = data;
        const script = document.createElement("script");
        script.type = "module";
        script.src = "../controladores/js/menu.js";
        document.body.appendChild(script);
      });
  </script>

  <!-- Muestra el nombre del usuario logueado en el mensaje-->
  <script>
    const nombreUsuario = localStorage.getItem('nombreUsuario');
    const spanNombre = document.getElementById('nombreUsuario');

    if (nombreUsuario && spanNombre) {
      spanNombre.textContent = nombreUsuario;
    } else if (spanNombre) {
      spanNombre.textContent = 'Usuario';
    }
  </script>

</body>
</html>
