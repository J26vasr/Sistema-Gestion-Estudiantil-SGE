<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Actividad</title>
    <link rel="stylesheet" href="../recursos/css/menu.css">
    <link rel="stylesheet" href="../recursos/css/agregar-act.css">
</head>

<body>
    <!-- Men칰 din치mico -->
    <div id="menu">
    </div>
    <h3 class="TituloVentana">Editar Actividad</h3>
    <div class="container">
        <form id="actividadForm">
            <div class="column-left">
                <div class="card-subir-imagen">
                    <img id="imagenPreview" src="../recursos/img/Subir-Img-Act.png" alt="Vista previa"/>
                    <h4>Cambiar Imagen</h4>
                    <input type="file" id="imagenActividad" accept="image/jpeg,image/jpg,image/png,image/webp,image/avif" class="btn-view" />
                    <p class="error" id="imagenError"></p>
                </div>
            </div>

            <div class="column-right">
                <div class="container-materia">
                    <h2>Informaci칩n de la Actividad</h2>
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-content">

                                <!-- Curso (Asignatura-Profesor) -->
                                <div class="card-header">
                                    <div class="container-ComboBox">
                                        <h3>Seleccione el curso (Asignatura):</h3>
                                        <div class="combo-wrap">
                                            <select id="curso" class="fancy-select" required>
                                                <option value="">Cargando cursos...</option>
                                            </select>
                                        </div>
                                        <p class="error" id="cursoError"></p>
                                    </div>
                                </div>

                                <!-- T칤tulo -->
                                <h3>T칤tulo de la actividad:</h3>
                                <div class="custom_input">
                                    <input type="text" id="titulo" name="titulo" required maxlength="200" class="input" placeholder="Ej: Tarea de investigaci칩n sobre algoritmos" />
                                    <p class="error" id="tituloError"></p>
                                </div>

                                <!-- Descripci칩n -->
                                <h3>Descripci칩n de la actividad:</h3>
                                <div class="custom_input">
                                    <textarea id="descripcion" name="descripcion" required rows="4" class="input" placeholder="Describe detalladamente la actividad..." style="resize: vertical; min-height: 80px;"></textarea>
                                    <p class="error" id="descripcionError"></p>
                                </div>

                                <!-- Fecha Apertura -->
                                <h3>Fecha y hora de apertura:</h3>
                                <div class="custom_input">
                                    <input id="fechaApertura" name="fechaApertura" type="datetime-local" required class="input" />
                                    <p class="error" id="fechaAperturaError"></p>
                                </div>

                                <!-- Fecha Cierre -->
                                <h3>Fecha y hora de cierre:</h3>
                                <div class="custom_input">
                                    <input id="fechaCierre" name="fechaCierre" type="datetime-local" required class="input" />
                                    <p class="error" id="fechaCierreError"></p>
                                </div>

                                <!-- Documento -->
                                <h3>Documento adjunto (opcional):</h3>
                                <div class="custom_input">
                                    <input id="documentoActividad" name="documentoActividad" type="file" class="input" accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt" />
                                    <p class="file-info">Formatos permitidos: PDF, Word, Excel, PowerPoint, TXT (m치x. 10MB)</p>
                                    <p class="error" id="documentoError"></p>
                                </div>

                                <!-- Vista previa del documento -->
                                <div id="documentoPreview" style="margin-top: 15px; border: 1px solid #ccc; padding: 10px; border-radius: 8px; background: #f9f9f9; min-height: 60px; max-height: 300px; overflow-y: auto;">
                                    <p style="color: #666; font-size: 0.9rem;">游늯 La vista previa del documento aparecer치 aqu칤</p>
                                </div>

                                <!-- Estado Activo -->
                                <div style="margin-top: 20px; display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" id="activo" name="activo" checked style="width: 20px; height: 20px; cursor: pointer;" />
                                    <label for="activo" style="cursor: pointer; font-weight: 500;">Actividad activa</label>
                                </div>

                                <!-- Botones -->
                                <div class="footer" style="margin-top: 30px;">
                                    <a href="../vista/vista-actividades.html" class="btn-view" style="background: linear-gradient(135deg, #6c757d, #868e96);">Cancelar</a>
                                    <button type="submit" id="btnGuardar" class="btn-view">Guardar Cambios</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- SweetAlert Library -->
    <script src="../controladores/lib/sweetalert.min.js"></script>

    <!-- Script principal -->
    <script type="module" src="../controladores/js/editar-actividad.js"></script>

    <script>
        // Cargar el men칰 desde menu.html
        fetch("../vista/menu.html")
            .then(res => res.text())
            .then(data => {
                document.getElementById("menu").innerHTML = data;
                const script = document.createElement("script");
                script.type = "module";
                script.src = "../controladores/js/menu.js";
                document.body.appendChild(script);
            });
    </script>
</body>

</html>
